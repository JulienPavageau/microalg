<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Tuto blocs - MicroAlg</title>
    <meta name="description"
          content="Tutoriel en ligne pour MicroAlg." />
    <meta name="keywords" content="microalg, algo, algorithme, algorithmique, lisp, environnement" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="web/jquery.min.js"><\/script>')</script>
    <script src="emulisp/int.js" type="text/javascript"></script>
    <script src="emulisp/emulisp_core.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="web/style.css" />
    <script type="text/javascript" src="web/ide_injections.js"></script>
    <script type="text/javascript" src="web/parenedit.js"></script>
    <link type="text/css" href="web/parenedit.css" rel="stylesheet" />
    <script src="web/showdown.js"></script>
    <script src="web/showup.js"></script>
    <link type="text/css" href="web/showup.css" rel="stylesheet" />
    <script type="text/javascript" src="web/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="web/blockly_microalg.js"></script>
    <link rel="icon" href="visuels/logo_microalg.ico" />
</head>
<body class="microalg">
    <noscript>
        <div style="color:#CC0000; text-align:center">
        Besoin de JavaScript pour les exercices interactifs.
        </div>
    </noscript>
    <div class="navbar">
        <a href="./">accueil</a> :
        <a href="#top">haut de page</a>
    </div>
    <h1 id="top">MicroAlg - Tutoriel par blocs</h1>
    <p><a href="#variables">Commencer tout de suite</a>, sans
    lire l’introduction.</p>
    <p>Aller directement à :
    <a href="#variables">Variables</a>,
    <a href="#operations-logiques">Opérations logiques</a>,
    <a href="#taper-du-code">Taper du code</a>,
    <a href="#contact">Contact</a>.
    </p>

    <h2 id="questce">Qu’est-ce ?</h2>
    <p>Cette page est la suite de <a href="tuto_blocs.html">celle-ci</a>.
    Impossible de continuer si vous ne l’avez pas lue avant.</p>

    <h2 id="contact">Contact</h2>
    <p>En cas de problème, ne pas hésiter à poser une question dans
    <a href="http://qr.microalg.info">la section Questions/Réponses</a>,
    ou à envoyer <a href="mailto:profgra.org@gmail.com" class="email">un
    email au créateur de MicroAlg</a>.</p>

    <h2 id="variables"><a href="#variables">: </a>Variables</h2>
    <p>On a parfois besoin de stocker le résultat de <code>(Demander)</code>
    pour pouvoir se servir plusieurs fois de cette valeur. En effet, si on
    demande deux fois une valeur, l'utilisateur peut ne pas répondre deux fois
    la même chose.</p>
    <p>Cela peut être :</p>
    <ul>
        <li>le nom de l'utilisateur, si on veut afficher des phrases contenant
            son nom tout au long d'un jeu,</li>
        <li>une valeur numérique qui sert plusieurs fois dans un calcul comme
            <code>x</code> dans <code>(x+1)(x+2)</code>.</li>
    </ul>
    <p>Pour pouvoir utiliser une variable avec MicroAlg, il faut :</p>
    <ol>
        <li>tout d’abord <em>l’initialiser</em>, c’est-à-dire lui donner une
            valeur de départ du bon type, en utilisant la commande
            <code>Initialiser</code>,</li>
        <li>puis ensuite, si cette variable n’est pas une constante du
            programme, lui <em>affecter</em> une autre valeur, peut-être
            plusieurs fois au cours du programme.</li>
    </ol>
    <p>La valeur stockée dans la variable est accessible grâce au bloc des
    variables, dans la catégorie « Valeurs ». Par défaut, le bloc donne la
    valeur de la variable <code>ma_variable</code>, mais vous pouvez indiquer
    la variable que vous voulez en cliquant dessus. Voici quelques exemples :</p>
    <div id="script-variable-texte"></div>
    <script>inject_microalg_editor_in('script-variable-texte', {
     blockly_only: true,
     src:
        '(!!! "`nom` est le nom de l’utilisateur")\n' +
        '(Initialiser nom "pas de nom")\n' +
        '(Afficher "Quel est votre nom ?")\n' +
        '(Affecter_a nom (Demander))\n' +
        '(Afficher\n' +
        '    (Concatener\n' +
        '        "Bonjour "\n' +
        '        nom\n' +
        '        ". "\n' +
        '    )\n' +
        ')\n' +
        '(Afficher\n' +
        '    (Concatener\n' +
        '        nom\n' +
        '        ", c’est vraiment un joli nom."\n' +
        '    )\n' +
        ')'
    });</script>
    <div id="script-variable-nombre"></div>
    <script>inject_microalg_editor_in('script-variable-nombre', {
     blockly_only: true,
     src:
        '(Initialiser x 0)\n' +
        '(Afficher "Donnez une valeur à x, SVP.")\n' +
        '(Affecter_a x (Nombre (Demander)))\n' +
        '(Afficher\n' +
        '    (Concatener\n' +
        '        "Le carré de "\n' +
        '        (Texte x)\n' +
        '        " vaut :"\n' +
        '    )\n' +
        ')\n' +
        '(Afficher (* x x))'
    });</script>
    <p>Dans le dernier programme, on remarque que le symbole de la
    multiplication <code>×</code> ressemble à la lettre <code>x</code>.
    C’est bien le produit de <code>x</code> et de <code>x</code>.</p>
    <p><strong>Attention</strong>, les commandes <code>Initialiser</code> et
    <code>Affecter_a</code> effectuent des vérifications :</p>
    <ul>
        <li><code>Initialiser</code>
            <ul>
                <li>ne peut ré-initialiser une variable qu’avec une valeur du
                même type,</li>
            </ul>
        </li>
        <li><code>Affecter_a</code>
            <ul>
                <li>ne peut pas changer la valeur d’une variable si cette
                variable n’a pas été initialisée auparavant,</li>
                <li>ne peut pas changer le type d’une variable (la nouvelle
                valeur doit être du même type que l’ancienne valeur).</li>
            </ul>
        </li>
    </ul>
    <p>Pour rappel, nous connaissons pour l’instant trois types :</p>
    <ul>
        <li><code>texte</code>,</li>
        <li><code>nombre</code>,</li>
        <li><code>booléen</code>,</li>
    </ul>
    <p>et nous avons vu des commandes permettent de vérifier le type de
    certaines valeurs, et d’autres d’effectuer des conversions :</p>
    <div id="script-types-rappels"></div>
    <script>inject_microalg_editor_in('script-types-rappels', {
     blockly_only: true,
     src:
        '(Afficher (Texte? "Bonjour !"))\n' +
        '(Afficher (Nombre? 12345))\n' +
        '(Afficher (Booleen? Vrai))\n' +
        '(Afficher (Texte? (Texte 12345)))\n' +
        '(Afficher (Nombre? (Nombre "12345")))\n' +
        ''
    });</script>
    <p><strong>Remarque</strong> : Il n’est pas interdit d’utiliser la valeur
    d’une variable dans une instruction qui sera affectée à cette même
    variable. C’est même parfois utile en vue d’<em>accumuler</em> des
    valeurs, textuelles, numériques ou autres. Nous allons donner deux
    exemples.</p>
    <p>Dans le premier, on accumule des nombres avec une instruction de la
    forme :<br>
    <code>(Affecter_a valeur (+ valeur valeur_a_ajouter))</code></p>
    <p>Ce qui signifie : « <code>valeur</code> prend pour nouvelle valeur le
    résultat du calcul <code>valeur</code> + <code>valeur_a_ajouter</code> ».</p>
    <div id="script-accu-nombres-ex"></div>
    <script>inject_microalg_editor_in('script-accu-nombres-ex', {
     blockly_only: true,
     src:
        '(Initialiser valeur 0)\n' +
        '(Affecter_a valeur (+ valeur 1))\n' +
        '(Afficher valeur)\n' +
        ''
    });</script>
    <p>Dans le second, on accumule du texte avec une instruction de la
    forme :<br>
    <code>(Affecter_a texte (Concatener texte texte_a_ajouter))</code></p>
    <p>Ce qui signifie : « <code>texte</code> prend pour nouvelle valeur la
    concaténation de <code>texte</code> avec <code>texte_a_ajouter</code> ».</p>
    <div id="script-accu-textes-ex"></div>
    <script>inject_microalg_editor_in('script-accu-textes-ex', {
     blockly_only: true,
     src:
        '(Initialiser texte "Bonjour")\n' +
        '(Affecter_a texte (Concatener texte " !"))\n' +
        '(Afficher texte)\n' +
        ''
    });</script>
    <p>Voici deux programmes plus complets qui utilisent ce principe.</p>
    <p>Un où l’on accumule des nombres pour calculer leur somme :</p>
    <div id="script-accu-nombres"></div>
    <script>inject_microalg_editor_in('script-accu-nombres', {
     blockly_only: true,
     src:
        '(Initialiser somme 0)\n' +
        '(Afficher "Veuillez taper un nombre SVP.")\n' +
        '(Affecter_a somme (+ somme (Nombre (Demander))))\n' +
        '(Afficher "Veuillez en taper un autre.")\n' +
        '(Affecter_a somme (+ somme (Nombre (Demander))))\n' +
        '(Afficher "Encore un dernier SVP.")\n' +
        '(Affecter_a somme (+ somme (Nombre (Demander))))\n' +
        '(Afficher "La somme des nombres vaut :")\n' +
        '(Afficher somme)\n' +
        ''
    });</script>
    <p>Un où l’on accumule du texte (en ajoutant au passage des espaces) :</p>
    <div id="script-accu-textes"></div>
    <script>inject_microalg_editor_in('script-accu-textes', {
     blockly_only: true,
     src:
        '(Initialiser mots " ")\n' +
        '(Afficher "Veuillez taper un mot SVP.")\n' +
        '(Affecter_a mots (Concatener mots (Demander)))\n' +
        '(Affecter_a mots (Concatener mots " "))\n' +
        '(Afficher "Veuillez en taper un autre.")\n' +
        '(Affecter_a mots (Concatener mots (Demander)))\n' +
        '(Affecter_a mots (Concatener mots " "))\n' +
        '(Afficher "Encore un dernier SVP.")\n' +
        '(Affecter_a mots (Concatener mots (Demander)))\n' +
        '(Afficher "Vous avez tapé :")\n' +
        '(Afficher mots)\n' +
        ''
    });</script>

    <h2 id="operations-logiques"><a href="#operations-logiques">: </a>Opérations logiques</h2>
    <p>Voici un programme vu précédemment :</p>
    <div id="script-si-emboites-appli2"></div>
    <script>inject_microalg_editor_in('script-si-emboites-appli2', {
     blockly_only: true,
     src:
        '(Afficher "Veuillez taper un nombre.")\n' +
        '(Initialiser nbre (Nombre (Demander)))\n' +
        '(Si (>= nbre 0)\n' +
        '    Alors (Si (>= nbre 1000)\n' +
        '              Alors (Afficher "Ce nombre est positif et assez grand.")\n' +
        '              Sinon (Afficher "Ce nombre est positif ou nul, et pas trop grand.")\n' +
        '          )\n' +
        '    Sinon (Si (<= nbre -1000)\n' +
        '              Alors (Afficher "Ce nombre est négatif et assez grand.")\n' +
        '              Sinon (Afficher "Ce nombre est négatif et pas trop grand.")\n' +
        '    )\n' +
        ')'
    });</script>
    <p>On peut parfois éviter d’emboîter les <code>Si</code> en effectuant des
    calculs sur les booléens. Cela simplifie beaucoup le code quand, par
    exemple, on doit vérifier qu’un nombre appartient à un intervalle.</p>
    <div id="script-intervalle"></div>
    <script>inject_microalg_editor_in('script-intervalle', {
     blockly_only: true,
     src:
        '(Afficher "Veuillez taper un nombre.")\n' +
        '(Initialiser nbre (Nombre (Demander)))\n' +
        '(Si (Et (>= nbre 1) (<= nbre 6))\n' +
        '    Alors (Afficher "Ce nombre est compris entre 1 et 6.")\n' +
        '    Sinon (Afficher "Ce nombre est n’est pas compris entre 1 et 6.")\n' +
        ')' +
        ''
    });</script>
    <p>Essayez d’obtenir le même résultat sans l’instruction <code>Et</code> !</p>
    <p>MicroAlg fournit les opérations sur les booléens suivantes :</p>
    <ul>
        <li><code>Non</code>, qui retourne le contraire du booléen fourni en
            paramètre ;</li>
        <li><code>Et</code>, qui retourne <code>Vrai</code> seulement si les
            deux booléens en paramètre sont <code>Vrai</code>s ;</li>
        <li><code>Ou</code>, qui retourne <code>Vrai</code> si au moins un des
        deux booléens est <code>Vrai</code>.</li>
    </ul>
    <div id="script-operations-logiques"></div>
    <script>inject_microalg_editor_in('script-operations-logiques', {
     blockly_only: true,
     src:
        '(Afficher (Concatener "`(Non Faux)` donne : " (Non Faux)))\n' +
        '(Afficher (Concatener "`(Non Vrai)` donne : " (Non Vrai)))\n' +
        '(Afficher "")\n' +
        '(Afficher (Concatener "`(Et Faux Faux)` donne : " (Et Faux Faux)))\n' +
        '(Afficher (Concatener "`(Et Faux Vrai)` donne : " (Et Faux Vrai)))\n' +
        '(Afficher (Concatener "`(Et Vrai Faux)` donne : " (Et Vrai Faux)))\n' +
        '(Afficher (Concatener "`(Et Vrai Vrai)` donne : " (Et Vrai Vrai)))\n' +
        '(Afficher "")\n' +
        '(Afficher (Concatener "`(Ou Faux Faux)` donne : " (Ou Faux Faux)))\n' +
        '(Afficher (Concatener "`(Ou Faux Vrai)` donne : " (Ou Faux Vrai)))\n' +
        '(Afficher (Concatener "`(Ou Vrai Faux)` donne : " (Ou Vrai Faux)))\n' +
        '(Afficher (Concatener "`(Ou Vrai Vrai)` donne : " (Ou Vrai Vrai)))\n' +
        ''
    });</script>

    <h2 id="manipulation-de-texte"><a href="#manipulation-de-texte">: </a>Manipulation de texte</h2>
    <p>Un texte, ou <em>chaîne de caractères</em> n’est qu’une liste de lettres.</p>
    <p>La commande <code>Longueur</code> retourne le nombre de lettres d’un
    texte.</p>
    <p>Le prédicat <code>Vide?</code> permet d’écrire <code>(Vide? texte)</code>
    au lieu de <code>(= 0 (Longueur texte))</code>.</p>
    <div id="script-longueur-vide"></div>
    <script>inject_microalg_editor_in('script-longueur-vide', {
     blockly_only: true,
     src:
        '(Afficher (Longueur "salut"))\n' +
        '(Afficher (Vide? "salut"))\n' +
        '(Afficher (Longueur ""))\n' +
        '(Afficher (Vide? ""))\n' +
        '\n' +
        '(!!! "Cela fonctionne aussi avec une variable contenant du texte.")\n' +
        '(Initialiser txt "bonjour")\n' +
        '(Afficher (Longueur txt))\n' +
        '(Afficher (Vide? txt))\n' +
        '(Affecter_a txt "")\n' +
        '(Afficher (Longueur txt))\n' +
        '(Afficher (Vide? txt))\n' +
        ''
    });</script>
    <p>La commande <code>Nieme</code>, prononcée « énième », retourne une des
    lettres du texte, en fonction de l’indice que l’on fournit (deuxième
    argument).</p>
    <div id="script-nieme"></div>
    <script>inject_microalg_editor_in('script-nieme', {
     blockly_only: true,
     src:
        '(Afficher (Nieme "salut" 1))\n' +
        '(Afficher (Nieme "salut" 2))\n' +
        '(!!! "Attention, il faut que l’indice soit")\n' +
        '(!!! "un entier strictement positif,")\n' +
        '(!!! "inférieur ou égal à la longueur du texte.")\n' +
        '(!!! "Essayez de modifier le code ci-dessus pour qu’il génère une erreur.")\n' +
        '\n' +
        '(!!! "Cela fonctionne aussi avec une variable contenant du texte.")\n' +
        '(Initialiser txt "bonjour")\n' +
        '(Afficher (Nieme txt 4))\n' +
        ''
    });</script>
    <p>La commande <code>Nieme@</code>, prononcée « énième aléatoire »
    (<em>pseudo</em>-aléatoire pour les puristes), retourne une des lettres du
    texte, prise au hasard. Lancez plusieurs fois de suite le programme
    suivant :</p>
    <div id="script-nieme-aleatoire"></div>
    <script>inject_microalg_editor_in('script-nieme-aleatoire', {
     blockly_only: true,
     src:
        '(Initialiser@)\n' +
        '(Afficher (Nieme@ "salut"))\n' +
        ''
    });</script>
    <p>Nous aurons parfois besoin de couper la tête d’un texte, pour
    travailler de proche en proche.</p>
    <div id="script-tete-queue"></div>
    <script>inject_microalg_editor_in('script-tete-queue', {
     blockly_only: true,
     src:
        '(Afficher (Tete "salut" ))\n' +
        '(Afficher (Queue "salut" ))\n' +
        '(Afficher (Tete "y" ))\n' +
        '(Afficher (Queue "y" ))\n' +
        ''
    });</script>

    <h2 id="taper-du-code"><a href="#taper-du-code">: </a>Taper du code</h2>
    <p>Bouger des blocs à la souris, c’est bien. Mais taper son code soi-même,
    c’est mieux. Voici un espace de travail qui vous permet de voir à quoi
    ressemble MicroAlg sans les blocs. Observez le code (juste en dessous) au
    fur et à mesure que vous bougez les blocs. Attention : les couleurs des
    parenthèses n’ont rien à voir avec la couleur des blocs.</p>
    <div id="script-taper-du-code"></div>
    <script>inject_microalg_editor_in('script-taper-du-code', {
     blockly: true,
     src:
        '(Afficher (Concatener\n' +
        '              "Un de plus : "\n' +
        '              (Texte (+\n' +
        '                      1\n' +
        '                      (Nombre (Demander))\n' +
        '                     )\n' +
        '              )\n' +
        '))'
    });</script>
    <a name="abandonner-blocs">
    <p>Ce que vous allez perdre en abandonnant les blocs :</p>
    <ul>
        <li><strong>de l’assurance</strong> : au début vous serez un peu perdues
            car vous ne serez pas sûres de l’orthographe des commandes,
            de l’ordre dans lequel les disposer, des parenthèses… ;
        </li>
        <li><strong>de la vitesse</strong> : tant que vous ne saurez pas taper
            vite, taper du code vous semblera très long, il faut donc
            apprendre à taper !!!
        </li>
    </ul>
    <p>Ce que vous allez gagner en abandonnant les blocs :</p>
    <ul>
        <li><strong>de l’assurance</strong> : vous serez tellement heureuse quand
            vous aurez franchi ce cap, que vous y prendrez goût et ne reviendrez
            jamais aux blocs ;
        </li>
        <li><strong>de la vitesse</strong> : comme vous allez apprendre à taper,
            peut-être même en <a href="http://bepo.fr">Bépo</a>, vous serez bien
            plus rapide en laissant la souris tranquille (et votre corps vous
            remerciera) ;
        </li>
        <li><strong>de la souplesse</strong> : vous pourrez présenter votre
            code comme il vous plaira, passer à la ligne au meilleur moment
            pour transformer votre programme en œuvre d’art. Finie la peinture
            par numéros, à vous les pinceaux !!!
        </li>
        <li><strong>des neurones</strong> : l’effort fourni vous permettra
            de devenir mentalement plus solide ;
        </li>
        <li><strong>des fichiers</strong> : les blocs sont pour l’instant
            réservés au travail sur navigateur. Passer au code vous permettra
            <a href="https://github.com/Microalg/Microalg/blob/latest/INSTALL.md">d’installer MicroAlg</a>
            sur votre machine et de travailler avec des fichiers ;
        </li>
    </ul>
    <p>Quand vous passerez au code, le travail avec les blocs ne doit pas être
    oublié. La forme des pièces indique :</p>
    <ul>
        <li>si l’instruction peut être utilisée sans être imbriquée dans une
            autre (pas d’attache sortant à gauche, mais un creux en haut) ;</li>
        <li>si elle retourne une valeur (attache sortant à gauche) ;</li>
        <li>si elle a besoin d’arguments (creux à droite) ;</li>
        <li>et si oui, de combien ;</li>
        <li>…</li>
    </ul>

    <h2 id="fin">Fin</h2>
    <p>Ce tutoriel est en cours de rédaction (tous les blocs ne sont pas codés :
    appel à contribution !).</p>
    <p>Il est temps de toutes façons de lacher la souris et de taper
    directement du code ! Pour cela, voir les autres tutoriels.</p>
    <p>Si vous préférez <strong>ne pas utiliser votre souris</strong> et
    <strong>taper le code</strong> vous-même, vous pouvez plutôt essayer :</p>
    <ul>
        <li>
            <a href="tuto_simple.html">le tutoriel simplifié</a>, rédigé dans
            un <strong>français simplifié</strong> ;
        </li>
        <li>
            <a href="tuto.html">le tutoriel officiel</a>, rédigé dans un
            <strong>français assez soutenu</strong> ;
        </li>
        <li>
            <a href="tuto_rapide.html">le tutoriel rapide</a>, réservé aux
            personnes <strong>connaissant déjà un langage</strong> de
            programmation.
        </li>
    </ul>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <script>
        $().showUp('.navbar', {
            upClass: 'navbar-show',
            downClass: 'navbar-hide'
        });
    </script>
</body>
</html>
