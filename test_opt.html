<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Test visualisation exécution</title>
    <meta name="description"
          content="Tutoriel en ligne pour MicroAlg." />
    <meta name="keywords" content="microalg, algo, algorithme, algorithmique, lisp, environnement" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="emulisp/emulisp_core.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="web/style.css" />
    <script type="text/javascript" src="web/ide_injections.js"></script>
    <script type="text/javascript" src="web/parenedit.js"></script>
    <link type="text/css" href="web/parenedit.css" rel="stylesheet" />
    <script src="web/showdown.js"></script>
    <script src="web/showup.js"></script>
    <link type="text/css" href="web/showup.css" rel="stylesheet" />
    <link rel="icon" href="visuels/logo_microalg.ico" />
    <!-- Online Python Tutor files -->
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.1.6/d3.min.js"></script>
    <script type="text/javascript" src="web/opt/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="web/opt/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="web/opt/jquery-ui-1.8.24.custom.min.js"></script>
    <link type="text/css" href="web/opt/jquery-ui-1.8.24.custom.css" rel="stylesheet" />
    <script type="text/javascript" src="web/opt/pytutor.js"></script>
    <link rel="stylesheet" href="web/opt/pytutor.css"/>
</head>
<body class="microalg">
    <h1>Visualisation de l’exécution</h2>
    <p>bla</p>
    <div id="script-test-opt"></div>
    <script>inject_microalg_editor_in('script-test-opt', {
     src:
        '(Afficher "Bonjour tout le monde !")'
    });</script>
    <div id="opt_div" style="background-color: #fff;"></div>
    <script type="text/javascript">
    EMULISP_CORE.eval(lib_json_src);
    //var opt_data = cleanTransient(EMULISP_CORE.eval('(picolisp_to_json (quote ("name" . "Smith") ("age" . 25) ("address" ("street" . "21 2nd Street") ("city" . "New York") ("state" . "NY") ("zip" . "10021") ) ("phone" T "212 555-1234" "646 555-4567") ) ) *JSON'));
    var trace_as_lisp = '("name" . "Smith") ("age" . 25) ("address" ("street" . "21 2nd Street") ("city" . "New York") ("state" . "NY") ("zip" . "10021") ) ("phone" T "212 555-1234" "646 555-4567")';
    var lisp_to_eval = '(picolisp_to_json (quote ' + trace_as_lisp + ')) *JSON';
    var opt_data = cleanTransient(EMULISP_CORE.eval(lisp_to_eval));
    var opt_data2 = {
"code": "def fact(n):\n    print(\"on me demande fact de\", n)\n    resultat = 1\n    facteur = 1\n    while facteur <= n:\n        resultat = resultat * facteur\n        print(\"facteur =\", facteur)\n        print(\"resultat =\", resultat)\n        facteur = facteur + 1\n    return resultat\n\nprint(fact(4))\n",
"trace": [
    {"ordered_globals": [],
    "stdout": "",
    "func_name": "<module>",
    "stack_to_render": [],
    "globals": {},
    "heap": {},
    "line": 1,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "",
    "func_name": "<module>",
    "stack_to_render": [],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 12,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "",
    "func_name": "fact",
    "stack_to_render": [
        {"frame_id": 1,
        "encoded_locals": {"n": 4},
        "is_highlighted": true,
        "is_parent": false,
        "func_name": "fact",
        "is_zombie": false,
        "parent_frame_id_list": [],
        "unique_hash": "fact_f1",
        "ordered_varnames": ["n"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 1,
    "event": "call"},
    {"ordered_globals": ["fact"],
    "stdout": "",
    "func_name": "fact",
    "stack_to_render": [
        {"frame_id": 1,
        "encoded_locals": {"n": 4},
        "is_highlighted": true,
        "is_parent": false,
        "func_name": "fact",
        "is_zombie": false,
        "parent_frame_id_list": [],
        "unique_hash": "fact_f1",
        "ordered_varnames": ["n"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 2,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 3,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 4,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 1,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 5,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 1,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 6,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 1,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 7,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 1,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 8,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 1,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 9,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 2,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 5,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 2,
    "resultat": 1,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 6,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 2,
    "resultat": 2,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 7,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 2,
    "resultat": 2,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 8,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 2,
    "resultat": 2,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 9,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 3,
    "resultat": 2,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 5,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 3,
    "resultat": 2,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 6,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 3,
    "resultat": 6,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 7,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 3,
    "resultat": 6,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 8,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 3,
    "resultat": 6,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 9,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 4,
    "resultat": 6,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 5,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 4,
    "resultat": 6,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 6,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 4,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 7,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 4,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 8,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\nresultat = 24\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 4,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 9,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\nresultat = 24\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 5,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 5,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\nresultat = 24\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"facteur": 5,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 10,
    "event": "step_line"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\nresultat = 24\n",
    "func_name": "fact",
    "stack_to_render": [{"frame_id": 1,
    "encoded_locals": {"__return__": 24,
    "facteur": 5,
    "resultat": 24,
    "n": 4},
    "is_highlighted": true,
    "is_parent": false,
    "func_name": "fact",
    "is_zombie": false,
    "parent_frame_id_list": [],
    "unique_hash": "fact_f1",
    "ordered_varnames": ["n",
    "resultat",
    "facteur",
    "__return__"]}],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 10,
    "event": "return"},
    {"ordered_globals": ["fact"],
    "stdout": "on me demande fact de 4\nfacteur = 1\nresultat = 1\nfacteur = 2\nresultat = 2\nfacteur = 3\nresultat = 6\nfacteur = 4\nresultat = 24\n24\n",
    "func_name": "<module>",
    "stack_to_render": [],
    "globals": {"fact": ["REF", 1]},
    "heap": {"1": ["FUNCTION",
    "fact(n)", null]},
    "line": 12,
    "event": "return"}]};
    $(document).ready(function() {
        var ev = new ExecutionVisualizer(
            'opt_div', opt_data, {embeddedMode: false});
    });
</script>
</body>
</html>
